{% macro table(headers, rows, class="table", striped=true, hover=true, responsive=true) %}
{% if responsive %}<div class="table-responsive">{% endif %}
<table class="{{ class }}{% if striped %} table-striped{% endif %}{% if hover %} table-hover{% endif %}">
    {% if headers %}
    <thead>
        <tr>
            {% for header in headers %}
            <th>{{ header }}</th>
            {% endfor %}
        </tr>
    </thead>
    {% endif %}
    <tbody>
        {% for row in rows %}
        <tr>
            {% for cell in row %}
            <td>{{ cell|safe }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
</table>
{% if responsive %}</div>{% endif %}
{% endmacro %}

{% macro data_table(data, columns) %}
<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                {% for column in columns %}
                <th>{{ column.title }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for item in data %}
            <tr>
                {% for column in columns %}
                <td>
                    {% if column.template %}
                        {{ column.template|format(item)|safe }}
                    {% else %}
                        {{ item[column.key]|default("") }}
                    {% endif %}
                </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endmacro %}
